<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: actions/admin.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: actions/admin.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import axios from "axios";

/**
 *@function
 *@name getAdminsCedula
 *@description Obtiene la información del usuario que se loguea
 * en la aplicativo web.
 *@params {string} cedula - nùmero de la cèdula
 *
 */
export const getAdminsCedula = (cedula, nombre, telefonos) => {
  return async () => {
    let config = {
      headers: { Authorization: `Bearer ${localStorage.getItem("token")}` },
    };
    axios
      .get(
        process.env.REACT_APP_URL_API + "admins/findByCedula/" + cedula,
        config
      )
      .then((response) => {
        console.log(response);
      })
      .catch((e) => {
        /**
         * Sí, canta error significa que no el usuario no esta registrado
         * en la base de datos, por lo tanto registramos el usuario nuevo.
         *
         */
        console.log("ERROR!!!!!", e);
        let config = {
          headers: { Authorization: `Bearer ${localStorage.getItem("token")}` },
        };
        axios
          .post(
            process.env.REACT_APP_URL_API + "admins/registerAdmin",
            {
              email: cedula,
              password: "123456",
              rol: "ADMIN_LOCATARIO",
              nombre: nombre,
              apellido: "",
              cedula: cedula,
              telefonos: telefonos,
            },
            config
          )
          .then((response) => {
            console.log(response);
          })
          .catch((e) => {
            console.log("ERROR!!!!!", e);
          });
      });
  };
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#columns">columns</a></li><li><a href="global.html#ContainerDashboard">ContainerDashboard</a></li><li><a href="global.html#getAdminsCedula">getAdminsCedula</a></li><li><a href="global.html#handleChangePage">handleChangePage</a></li><li><a href="global.html#handleChangeRowsPerPage">handleChangeRowsPerPage</a></li><li><a href="global.html#ModalCategorias">ModalCategorias</a></li><li><a href="global.html#TablaPlazas">TablaPlazas</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Tue Jul 06 2021 10:13:21 GMT-0500 (hora estándar de Colombia)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
